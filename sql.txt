-- Таблица "Категории"
CREATE TABLE categoty (
    ID_categoty INT PRIMARY KEY,
    categoty_name VARCHAR(255) NOT NULL
);
-- Таблица "Товары"
CREATE TABLE product (
    ID_product INT PRIMARY KEY,
    product_name VARCHAR(255) NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    count_on_storage INT NOT NULL,
    ID_categoty INT,
    ID_provider INT,
    description VARCHAR(255),
    FOREIGN KEY (ID_categoty) REFERENCES categoty(ID_categoty),
    FOREIGN KEY (ID_provider) REFERENCES provider(ID_provider)
);

-- Таблица "Клиенты"
CREATE TABLE client (
    ID_client INT PRIMARY KEY,
    surname VARCHAR(255) NOT NULL,
    name VARCHAR(255) NOT NULL,
    lastname VARCHAR(255) NOT NULL,
    phone VARCHAR(20),
    email VARCHAR(255),
    address VARCHAR(255)
);

-- Таблица "Поставщики"
CREATE TABLE provider (
    ID_provider INT PRIMARY KEY,
    company_name VARCHAR(255) NOT NULL,
    phone VARCHAR(20),
    email VARCHAR(255)
);

-- Таблица "Продажи"
CREATE TABLE sales (
    ID_sale INT PRIMARY KEY,
    date_and_time TIMESTAMP NOT NULL,
    ID_client INT,
    total_sum DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (ID_client) REFERENCES client(ID_client)
);

-- Таблица "Состав продажи"
CREATE TABLE sales_composition (
    ID_position INT PRIMARY KEY,
    ID_sale INT,
    ID_product INT,
   	count INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (ID_sale) REFERENCES sales(ID_sale),
    FOREIGN KEY (ID_product) REFERENCES product(ID_product)
);
